<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  th:replace="~{fragments/layout :: layout(~{::title}, ~{::main})}"
>
  <head>
    <title>Login</title>
  </head>
  <main>
    <!-- 1. Form tag is updated: no action/method, but has an ID -->
    <form id="login-form">
      <h2 class="title is-3 has-text-centered">Sign in</h2>

      <!-- 2. This div will be used by JavaScript to show errors -->
      <div
        id="error-message"
        class="has-text-centered notification is-danger"
        style="display: none"
      ></div>

      <div class="container column is-3">
        <div class="field">
          <label class="label" for="username">Username or Email</label>

          <p class="control has-icons-left has-icons-right">
            <!-- 3. Changed id="Username" to id="username" for consistency -->
            <input
              id="username"
              class="input"
              type="text"
              placeholder="Username or Email"
              name="username"
              required
              autofocus
            />
            <span class="icon is-small is-left">
              <i class="fas fa-user"></i>
            </span>
          </p>
        </div>
        <div class="field">
          <label class="label" for="password">Password</label>

          <p class="control has-icons-left">
            <input
              id="password"
              class="input"
              type="password"
              placeholder="Password"
              name="password"
              required
            />
            <span class="icon is-small is-left">
              <i class="fas fa-lock"></i>
            </span>
          </p>
        </div>
        <div class="field">
          <p class="control">
            <button class="button is-success is-fullwidth" type="submit">
              <b>Login</b>
            </button>
          </p>
        </div>
        <div class="has-text-centered mt-4">
          <!-- This link to register should be updated if it's incorrect -->
          <span
            >Don't have an account?
            <a th:href="@{/register}">Register here</a></span
          >
        </div>
      </div>
    </form>

    <!-- 4. Include the JavaScript file at the end of your main content -->
    <script th:src="@{/js/auth.js}"></script>
  </main>
</html>
